{"version":3,"sources":["components/CameraCard/index.js","utils/queries.js","assets/spinner.gif","utils/actions.js","utils/reducers.js","utils/GlobalState.js","utils/helpers.js","components/CameraList/index.js","components/Hero/index.js","components/Reservation/index.js","pages/Home.js","pages/About.js","components/CartItem/index.js","utils/auth.js","components/CartDrawer/index.js","components/CartDrawerBackdrop/index.js","components/Cart/index.js","components/AddToCart/index.js","components/CameraItemDetail/index.js","pages/Detail.js","pages/NoMatch.js","utils/mutations.js","pages/Login.js","pages/Signup.js","assets/logo.png","components/Nav/index.js","components/Footer/index.js","pages/OrderHistory.js","pages/Success.js","pages/Cameras.js","App.js","reportWebVitals.js","index.js"],"names":["CameraCard","item","image","brand","model","resolution","description","_id","price","className","id","style","width","alt","justifyContent","variant","src","to","QUERY_CAMERAS","gql","QUERY_CHECKOUT","QUERY_USER","UPDATE_CAMERAS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_DAYS","TOGGLE_CART","reducer","state","action","type","cameras","cartOpen","cart","camera","newState","filter","length","map","reserveDays","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","currentCamera","useReducer","dispatch","console","log","useStoreContext","useContext","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","autoIncrement","onerror","onsuccess","transaction","objectStore","put","all","getAll","delete","clear","oncomplete","close","CameraList","useQuery","loading","data","useEffect","forEach","then","spinner","Hero","role","Reservation","Home","About","CartItem","onClick","removeFromCart","flexGrow","alignItems","placeholder","onChange","target","parseInt","marginLeft","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","CartDrawer","useState","startDate","setStartDate","endDate","setEndDate","focusedInput","setFocusedInput","marginBottom","toggleCart","marginTop","startDateId","endDateId","onDatesChange","Intl","DateTimeFormat","year","month","day","format","onFocusChange","startDatePlaceholderText","endDatePlaceholderText","numberOfMonths","htmlFor","required","name","selected","disabled","hidden","calculateTotal","Auth","loggedIn","submitCheckout","CartDrawerBackdrop","stripePromise","loadStripe","Cart","useLazyQuery","getCheckout","productIds","variables","i","push","a","getCart","res","redirectToCheckout","sessionId","checkout","session","drawerClasses","total","sum","toFixed","itemNum","calculateItemNum","size","AddToCart","input","useParams","itemInCart","find","cartItem","p","CameraItemDetail","setCurrentCamera","lensCompatibility","quantity","Detail","NoMatch","LOGIN","ADD_ORDER","ADD_USER","Login","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","mutationResponse","handleChange","onSubmit","Signup","addUser","firstName","lastName","phoneNumber","Nav","logo","exact","activeClassName","href","logout","Footer","rel","OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","reservationDate","projectType","index","Success","addOrder","splice","toString","saveOrder","Cameras","Container","Row","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3968914.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction CameraCard(item) {\n\n  const {\n    image,\n    brand,\n    model,\n    resolution,\n    description,\n    _id,\n    price\n  } = item;\n\n  return (\n\n    <div className=\"flex-row space-between\">\n    <section className=\"flex-column productCard\" id={_id}>\n        <div className=\"card border-box\" style={{ width: '18rem' }}>\n          <div className=\"container\">\n            <img alt={model} className=\" my-2\" justifyContent=\"center\" style={{ width: '14rem' }} variant=\"top\" src={`/images/${image}`} />\n          </div>\n          <div>\n            <h6 className=\"my-2\">{brand + \" \" + model}</h6>\n            <div className=\"my-2 mx-4\">\n              <p>{resolution}</p>\n              {description}\n            </div>\n            <button className=\"my-2\">\n            <Link to={`/cameras/${_id}`}>\n              See Product Details</Link>\n            </button>\n            <footer className=\"cardFooter\" id=\"price\">\n              <div className=\"cardFooter hardText\">Rentals beginning at</div>\n              <div className=\"rentalPrice\">${price}/day</div>\n            </footer>\n          </div>\n        </div>\n      </section>\n  </div>\n  );\n}\n\nexport default CameraCard;\n","import { gql } from '@apollo/client';\n\nexport const QUERY_CAMERAS = gql`\n{\n    cameras{\n      _id\n      model\n      brand\n      resolution\n      lensCompatibility\n      image\n      reserveDays\n      price\n      quantity\n    }\n  }\n`;\n\nexport const QUERY_CHECKOUT = gql`\n  query getCheckout($cameras: [ID]!) {\n    checkout(cameras: $cameras) {\n      session\n    }\n  }\n`;\n\nexport const QUERY_USER = gql`\n  {\n    user {\n      firstName\n      lastName\n      email\n      phoneNumber\n      mailList\n      orders {\n        _id\n        purchaseDate\n        reservationDate\n        projectType\n        cameras {\n          _id\n          brand\n          model\n          reserveDays\n          price\n          image\n        }\n      }\n    }\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/spinner.689d9a07.gif\";","export const UPDATE_CAMERAS = \"UPDATE_CAMERAS\";\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const ADD_MULTIPLE_TO_CART = 'ADD_MULTIPLE_TO_CART';\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const UPDATE_CART_DAYS = 'UPDATE_CART_DAYS';\nexport const CLEAR_CART = 'CLEAR_CART';\nexport const TOGGLE_CART = 'TOGGLE_CART';\n","import {\n  UPDATE_CAMERAS,\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  UPDATE_CART_DAYS,\n  CLEAR_CART,\n  TOGGLE_CART,\n  ADD_MULTIPLE_TO_CART\n} from \"./actions\";\n\nimport { useReducer } from 'react';\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    // if action type value is the value of `UPDATE_CAMERAS`, return a new state object with an updated cameras array\n    case UPDATE_CAMERAS:\n      return {\n        ...state,\n        cameras: [...action.cameras],\n      };\n\n    case ADD_TO_CART:\n      return{\n        ...state,\n        cartOpen: true,\n        cart: [...state.cart, action.camera]\n      };\n\n    case ADD_MULTIPLE_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, ...action.cameras],\n      };\n\n    case REMOVE_FROM_CART:\n      let newState = state.cart.filter(camera => {\n        return camera._id !== action._id;\n      });\n\n      return {\n        ...state,\n        cartOpen: newState.length > 0,\n        cart: newState\n      };\n\n    case UPDATE_CART_DAYS:\n      return {\n        ...state,\n        cartOpen: true,\n        cart: state.cart.map(camera => {\n          if (action._id === camera._id) {\n            camera.reserveDays = action.reserveDays;\n          }\n          return camera;\n        })\n      };\n\n    case CLEAR_CART:\n      return {\n        ...state,\n        cartOpen: false,\n        cart: []\n      };\n\n    case TOGGLE_CART:\n      return {\n      ...state,\n      cartOpen: !state.cartOpen\n      };\n\n    // if it's none of these actions, do not update state at all and keep things the same!\n    default:\n      return state;\n  }\n};\n\nexport function useProductReducer(initialState) {\n  return useReducer(reducer, initialState);\n}","import React, { createContext, useContext } from \"react\";\nimport { useProductReducer } from './reducers';\n\n\nconst StoreContext = createContext();\nconst { Provider } = StoreContext;\n\nconst StoreProvider = ({ value = [], ...props }) => {\n  const [state, dispatch] = useProductReducer({\n    cameras: [],\n    currentCamera: \"\",\n    cart: [],\n    cartOpen: false\n  });\n  // use this to confirm it works!\n  console.log(state);\n  return <Provider value={[state, dispatch]} {...props} />;\n};\n\nconst useStoreContext = () => {\n  return useContext(StoreContext);\n};\n\nexport { StoreProvider, useStoreContext };","export function idbPromise(storeName, method, object){\n  return new Promise((resolve, reject) => {\n    // open connection to the database `ATX-Movie-Gear` with the version of 1\n    const request = window.indexedDB.open('ATX-Movie-Gear', 1);\n\n    // create variables to hold reference to the database, transaction (tx), and object store\n    let db, tx, store;\n\n    // if version has changed (or if this is the first time using the database), run this method and create the three object stores \n    request.onupgradeneeded = function(e) {\n      const db = request.result;\n      // create object store for each type of data and set \"primary\" key index to be the `_id` of the data\n      db.createObjectStore('cameras', { keyPath: '_id' });\n      db.createObjectStore('cart', { keyPath: '_id' });\n      db.createObjectStore('reservationDate', {autoIncrement: true});\n      db.createObjectStore('projectType', {autoIncrement: true});\n    };\n\n    // handle any errors with connecting\n    request.onerror = function(e) {\n      console.log('There was an error');\n    };\n\n    // on database open success\n    request.onsuccess = function(e) {\n      // save a reference of the database to the `db` variable\n      db = request.result;\n      // open a transaction do whatever we pass into `storeName` (must match one of the object store names)\n      tx = db.transaction(storeName, 'readwrite');\n      // save a reference to that object store\n      store = tx.objectStore(storeName);\n\n      // if there's any errors, let us know\n      db.onerror = function(e) {\n        console.log('error', e);\n      };\n\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function() {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        case 'deleteData':\n          store.clear();\n          break;\n        default:\n          console.log('No valid method');\n          break;\n      }\n\n      // when the transaction is complete, close the connection\n      tx.oncomplete = function() {\n        db.close();\n      };\n    };\n  });\n}\n\nexport function pluralize(name, count) {\n  if (count === 1) {\n    return name\n  }\n  return name + 's'\n}\n","import React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/client';\n\nimport CameraCard from '../CameraCard';\nimport { QUERY_CAMERAS } from '../../utils/queries';\nimport spinner from '../../assets/spinner.gif';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { UPDATE_CAMERAS } from '../../utils/actions';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction CameraList() {\n  const [state, dispatch] = useStoreContext();\n  const { loading, data } = useQuery(QUERY_CAMERAS);\n\n  useEffect(() => {\n    if(data){\n      dispatch({\n        type: UPDATE_CAMERAS,\n        cameras: data.cameras\n      });\n\n      data.cameras.forEach((camera)=> {\n        idbPromise('cameras', \"put\", camera);\n      });\n    }else if (!loading){\n      // since we're offline, get all of the data from the `cameras` store\n      idbPromise('cameras', 'get').then((cameras) => {\n        // use retrieved data to set global state for offline browsing\n        dispatch({\n          type: UPDATE_CAMERAS,\n          cameras: cameras\n        });\n      });\n    }\n  }, [data, loading, dispatch]);\n\n  function filtercameras() {\n    return state.cameras;\n  }\n\n  return (\n    <div className=\"my-2\">\n      {state.cameras.length ? (\n        <div className=\"flex-row\">\n          {filtercameras().map((camera) => (\n            <CameraCard\n              key={camera._id}\n              _id={camera._id}\n              image={camera.image}\n              brand={camera.brand}\n              model={camera.model}\n              resolution={camera.resolution}\n              price={camera.price}\n              reserveDays={camera.reserveDays}\n            />\n          ))}\n        </div>\n      ) : (\n        <h3>You haven't added any cameras yet!</h3>\n      )}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </div>\n  );\n}\n\nexport default CameraList;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { BsArrowRight } from \"react-icons/bs\";\n\nfunction Hero() {\n\n  return (\n    <div className=\"hero-image\">\n      <div className=\"container hero-text\">\n        <h2>\n        New camera arrivals\n        </h2>\n        <p>\n        Get the cinema look with great cinema cameras &mdash; at affordable prices!\n        </p>\n          <Link to=\"/cameras\">\n            Learn more\n            <span role=\"img\" aria-label=\"arrow\">\n              <BsArrowRight />\n            </span>\n          </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Hero;\n","import React from \"react\";\n\nfunction Reservation() {\n\n  return (\n    <div className=\"reservation\">\n      <div className=\"text-block\">\n        <h2>Make a reservation</h2>\n        <p>\n          Here's how it works\n        </p>\n      </div>\n      <div className=\"flex-row container\">\n\n        <div className=\"reservation-block\">\n          <p className=\"reservation-step\">1</p>\n          <div>\n            <h6>\n              Browse through our shop and add your selections to your cart!\n            </h6>\n            <p>\n              We carry most major brands and supportive equipment, so whatever it is you’re looking for, we probably have it!\n            </p>\n          </div>\n        </div>\n       \n        <div className=\"reservation-block\">\n          <p className=\"reservation-step\">2</p>\n          <div>\n            <h6>\n              Check the availability of your selections            \n            </h6>\n            <p>\n            If the product you want isn’t in stock or available when you need it, add your name to the item’s waiting list, and we’ll let you know when it’s back!\n            </p>\n          </div>\n        </div>\n\n        <div className=\"reservation-block\">\n          <p className=\"reservation-step\">3</p>\n          <div>\n            <h6>\n              Read, fill out, and sign our rental agreement forms\n            </h6>\n            <p>\n              Yeah, yeah, we know, reading Legalese can be a total downer. But once you’ve filled it in and promised us your firstborn* if you renege on any of the stipulations, you’re home free!\n            </p>\n            <p className=\"footnote\">\n              *No actual babies are harmed\n            </p>\n          </div>\n        </div>\n\n        <div className=\"reservation-block\">\n          <p className=\"reservation-step\">4</p>\n          <div>\n            <h6>\n              Submit your reservation request and payment information\n            </h6>\n            <p>\n              You won’t be charged until we’ve confirmed the availability of the equipment you’ve requested. Watch out for an email from us!\n            </p>\n          </div>\n        </div>\n      \n      </div>\n    </div>\n  );\n}\n\nexport default Reservation;\n","import React from \"react\";\nimport CameraList from \"../components/CameraList\";\nimport Hero from \"../components/Hero\";\nimport Reservation from \"../components/Reservation\";\n\nconst Home = () => {\n  return (\n    <>\n      <Hero />\n      <div className=\"text-block\">\n        <h2>Who we are</h2>\n        <p>\n          Austin Movie Gear is a locally owned and operated rental house supporting the filmmakers of Austin, TX. We offer the best prices in town plus honest service.\n        </p>\n      </div>\n      <div className=\"container\">\n        <CameraList />\n      </div>\n      <Reservation />\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\n\nconst About = () => {\n  return (\n    <>\n      <div className=\"hero-image-small\">\n      </div>\n      <div className=\"text-block text-block-left\">\n        <h2>About Austin Movie Gear</h2>\n        <p>\n          Austin Movie Gear, started in 2013, is a locally owned and operated business dedicated to providing low prices and great service to Austin filmmakers. We think you should be able to try out gear before you rent it, so we offer free demos of our gear.\n        </p>\n        <p>\n          Through our low prices and multi-day discounts — a weekend is one day — we make great equipment available for almost any budget production.\n\n          We serve a dynamic community of talented filmmakers.\n        </p>\n        <h6>\n        Hours \n        </h6>\n        <p>\n        Mon-Fri 10 AM to 4 PM, Sat-Sun 11 AM to 3 PM\n        Other times by appointment only\n        </p>\n\n        <h6>\n          Discounts\n        </h6>\n        <p>\n          Weekends (Friday Afternoon Pickup - Monday AM Return) are 1x the daily rate!\n        </p>\n        <p>\n          2 Days are 1.75x the daily rate\n          <br></br>\n          3 days are 2x the daily rate\n          <br></br>\n          5 days are 2.5x the daily rate\n          <br></br>\n          7 Days are 3x the daily rate\n          <br></br>\n          30 Days are 8.75x the daily rate\n          </p>\n          <p>\n          10% discount for non-profit organizations\n          <br></br>\n          10% discount for Austin School of Film\n          <br></br>\n          10% discount for teachers\n          <br></br>\n          15% discount for students, for student productions only\n        </p>\n\n        <h6>\n        Order Extensions\n        </h6>\n        <p>\n          If, during a rental, you need to extend your order beyond your order's original rental dates, we will accommodate you if the equipment is available.\n        </p>\n        <p>\n          1st extension day is the full day rate\n          <br></br>\n          Each additional day is 50% the day rate\n        </p>\n        \n      </div>\n    </>\n  );\n};\n\nexport default About;\n","import React from 'react';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { REMOVE_FROM_CART, UPDATE_CART_DAYS } from '../../utils/actions';\nimport { idbPromise } from \"../../utils/helpers\";\n\nconst CartItem = ({ item }) => {\n  const [, dispatch] = useStoreContext();\n\n  const removeFromCart = item => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: item._id\n    })\n    idbPromise('cart', 'delete', { ...item });\n  };\n\n  const onChange = (e) =>{\n    const value = e.target.value;\n\n    if(value === '0'){\n      dispatch({\n        type: REMOVE_FROM_CART,\n        _id: item._id\n      });\n      idbPromise('cart', 'delete', { ...item });\n    } else {\n      dispatch({\n        type: UPDATE_CART_DAYS,\n        _id: item._id,\n        reserveDays: parseInt(value)\n      });\n\n      idbPromise('cart', 'put', { ...item, reserveDays: parseInt(value) });\n    }\n  };\n\n  return (\n    <div className=\"flex-row\">\n      <div className=\"flex-column\">\n        <img\n          src={`/images/${item.image}`}\n          alt=\"\"\n        />\n        <div className=\"py-1\">\n          <p className=\"cart-remove\" onClick={() => removeFromCart(item)}>Remove</p>\n        </div>\n      </div>\n      <div className=\"flex-column\" style={{flexGrow:\"1\"}}>\n        <h4>{item.brand} {item.model}</h4>\n        <div className=\"cart-price\">\n          <h5>${item.price}</h5>\n          <p> / day</p>\n        </div>\n        <div className=\"flex-row\" style={{alignItems: \"center\"}}>\n          <p>Quantity </p>\n          <input\n            type=\"number\"\n            placeholder=\"1\"\n            value={item.reserveDays}\n            onChange={onChange}\n            style={{marginLeft: \"8px\", width: \"100%\"}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem;","import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useState } from \"react\";\nimport CartItem from '../CartItem';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport Auth from '../../utils/auth';\nimport { BsXLg } from \"react-icons/bs\";\nimport 'react-dates/initialize';\nimport { DateRangePicker } from 'react-dates';\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { idbPromise } from \"../../utils/helpers\";\n\nfunction CartDrawer(props) {\n\n  const [state]= useStoreContext();\n\n  // For the date picker\n  const [startDate, setStartDate] = useState();\n  const [endDate, setEndDate] = useState();\n  const [focusedInput, setFocusedInput] = useState();\n\n  return (\n    <div className=\"cart-container\">\n    <div>\n      <div className=\"flex-row space-between\" style={{marginBottom: \"24px\"}}>\n        <h2>Shopping Cart</h2>\n        <div className=\"close\" onClick={props.toggleCart}>\n          <BsXLg />\n        </div>\n      </div>\n    \n      {state.cart.length ?(\n        <div>\n          {state.cart.map(item => (\n            <CartItem key={item._id} item={item} />\n          ))}\n\n          <div className=\"flex-row\" style={{marginTop: \"16px\"}}>\n            <div className=\"flex-column\">\n              <h6>Pickup & dropoff dates</h6>\n              <DateRangePicker\n                startDate={startDate}\n                startDateId=\"start-date\" \n                endDate={endDate} \n                endDateId=\"end-date\" \n                onDatesChange={({ startDate, endDate }) => {\n                  setStartDate(startDate);\n                  setEndDate(endDate);\n                  idbPromise('reservationDate', \"put\",\n                  `PickUp: ${new Intl.DateTimeFormat('en-US', {year: 'numeric', month: '2-digit',day: '2-digit'}).format(startDate)}`+ \n                  ` DropOff: ${new Intl.DateTimeFormat('en-US', {year: 'numeric', month: '2-digit',day: '2-digit'}).format(endDate)}`)\n                }}\n                \n                focusedInput={focusedInput}\n                onFocusChange={(focusedInput) => setFocusedInput(focusedInput)}\n                startDatePlaceholderText=\"Pickup date\"\n                endDatePlaceholderText=\"Dropoff date\"\n                numberOfMonths= {1}\n              />\n\n            </div>\n          </div>\n\n          <div className=\"flex-column\" style={{marginTop: \"24px\"}}>\n\n            <label htmlFor=\"project\">\n              <h6>Project type</h6>\n            </label>\n            <select required name=\"project\" id=\"project\"\n              onChange={\n                (e)=>idbPromise('projectType', \"put\", e.target.value)\n              }\n            >\n              <option value=\"\" selected disabled hidden>Choose a project</option>\n              <option value=\"documentary\">Documentary</option>\n              <option value=\"narrative-film\">Narrative film</option>\n              <option value=\"student-film\">Student film</option>\n              <option value=\"music-video\">Music video</option>\n              <option value=\"wedding\">Wedding</option>\n              <option value=\"non-profit\">Non-profit</option>\n              <option value=\"broadcast\">Broadcast</option>\n              <option value=\"online-for-profit\">Online for profit</option>\n              <option value=\"internal\">Internal</option>\n              <option value=\"video-game\">Video game</option>\n              <option value=\"social-media-only\">Social media only</option>\n            </select>\n          </div>\n\n          <div className=\"flex-column space-between\" style={{marginTop: \"40px\"}}>\n            <div className=\"flex-row space-between\" style={{marginBottom: \"24px\"}}>\n              <h5>Total</h5>\n              <h3> ${props.calculateTotal}</h3>\n            </div>\n          \n            {\n              Auth.loggedIn() ?\n                <button onClick={props.submitCheckout}>\n                  Confirm reservation\n                </button>\n                :\n                <span>(log in to check out)</span>\n            }\n          </div>\n        </div>\n      ):(\n        <h6>\n          You haven't added anything to your cart yet!\n        </h6>\n      )}\n    </div>\n    </div>\n  );\n}\n\nexport default CartDrawer;\n","import React from \"react\";\n\nfunction CartDrawerBackdrop(props) {\n  return (\n    <div className=\"cart-backdrop\" onClick={props.toggleCart} />\n  )\n}\n\nexport default CartDrawerBackdrop;\n","import React, { useEffect } from 'react';\nimport CartDrawer from '../CartDrawer';\nimport CartDrawerBackdrop from '../CartDrawerBackdrop';\nimport { useLazyQuery } from '@apollo/client';\nimport { useStoreContext } from '../../utils/GlobalState'\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART} from '../../utils/actions';\nimport { idbPromise } from \"../../utils/helpers\";\nimport { QUERY_CHECKOUT } from '../../utils/queries';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { AiOutlineShoppingCart } from 'react-icons/ai';\n\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\n\nconst Cart = () => {\n  const [state, dispatch]= useStoreContext();\n  const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\n\n  useEffect(()=>{\n    async function getCart(){\n      const cart = await idbPromise('cart', 'get');\n      dispatch({ type: ADD_MULTIPLE_TO_CART, cameras: [...cart]});\n    };\n\n    if(!state.cart.length){\n      getCart();\n    }\n  }, [state.cart.length, dispatch]);\n\n  function toggleCart(){\n    dispatch({ type: TOGGLE_CART});\n  }\n\n  // Calculate number of items in cart to display in the bubble\n  function calculateItemNum() {\n    // let itemNum = state.cart.length;\n    let itemNum = 0;\n    state.cart.forEach(item => {\n      itemNum += item.reserveDays;\n    });\n    return (\n      <p>\n        {itemNum}\n      </p>\n    )\n  }\n\n  function calculateTotal() {\n    let sum = 0;\n    state.cart.forEach(item => {\n      sum += item.price * item.reserveDays;\n    });\n    return sum.toFixed(2);\n  }\n\n  useEffect(() => {\n    if (data) {\n      stripePromise.then((res) => {\n        res.redirectToCheckout({ sessionId: data.checkout.session })\n      })\n    }\n  }, [data]);\n\n  function submitCheckout(){\n    const productIds = [];\n\n    getCheckout({\n      variables: { cameras: productIds }\n    });\n\n    state.cart.forEach((item)=> {\n      for(let i = 0; i< item.reserveDays; i++){\n        productIds.push(item._id);\n      }\n    });\n  }\n\n  let drawerClasses=\"cart\";\n  let total = calculateTotal();\n\n  if (!state.cartOpen) {\n    return (\n      <>\n      <div className={drawerClasses}>\n          <CartDrawer \n          toggleCart={toggleCart} \n          calculateTotal={total}\n          submitCheckout={submitCheckout}\n          />\n        </div>\n      <div>\n        <div className=\"cart-item-num\">\n          {calculateItemNum()}\n        </div>\n        <div className=\"cart-closed mx-3\" onClick={toggleCart}>\n          <span role=\"img\" aria-label=\"shopping cart\">\n            <AiOutlineShoppingCart size={30}/>\n          </span>\n        </div>\n      </div>\n      </>\n    );\n  } else {\n    drawerClasses=\"cart open\";\n  }\n\n  return (\n    <>\n    <div className={drawerClasses}>\n      <CartDrawer \n      toggleCart={toggleCart} \n      calculateTotal={total}\n      submitCheckout={submitCheckout}\n      />\n    </div>\n    <CartDrawerBackdrop \n      toggleCart={toggleCart} \n    />\n    </>\n  );\n};\n\nexport default Cart;","import React from \"react\";\nimport { Link, useParams } from 'react-router-dom';\nimport spinner from '../../assets/spinner.gif';\nimport Cart from \"../Cart\";\nimport { useQuery } from '@apollo/client';\nimport {QUERY_CAMERAS} from '../../utils/queries';\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_DAYS,\n  ADD_TO_CART,\n  UPDATE_CAMERAS\n} from \"../../utils/actions\";\nimport RSVPDatePicker from \"../DatePicker\";\n\nfunction AddToCart(input) {\n    const {\n        currentCamera\n    } = input\n\n    const { id } = useParams();\n    const { loading } = useQuery(QUERY_CAMERAS);\n\n    const addToCart = () => {\n        // find the cart item with the matching id\n        const itemInCart = cart.find((cartItem)=> cartItem._id === id);\n\n        //if there was a match, call UPDATE with a new purchase quantity\n        if(itemInCart){\n          dispatch({\n            type: UPDATE_CART_DAYS,\n            _id: id,\n            reserveDays: parseInt(itemInCart.reserveDays) + 1\n          });\n        }else{\n          dispatch({\n            type: ADD_TO_CART,\n            camera: { ...currentCamera, reserveDays: 1 }\n          });\n        }\n      };\n\n    const [state, dispatch] = useStoreContext();\n\n    const { cart } = state;\n\n    const removeFromCart = () => {\n        dispatch({\n          type: REMOVE_FROM_CART,\n          _id: currentCamera._id\n        });\n      };\n    return(\n        <div>\n        <p>\n            <button className=\"my-2\" onClick={addToCart}>Make a Reservation</button>\n            <button className=\"my-2\"\n                disabled={!cart.find(p => p._id === currentCamera._id)}\n                onClick={removeFromCart}\n            >\n                Remove from Cart\n            </button>\n      </p>\n\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n              <Cart/>\n    </div>\n\n    )\n}\n\nexport default AddToCart;","\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport { QUERY_CAMERAS } from '../../utils/queries';\nimport AddToCart from '../AddToCart';\n\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_DAYS,\n  ADD_TO_CART,\n  UPDATE_CAMERAS\n} from \"../../utils/actions\";\n\nfunction CameraItemDetail(item) {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentCamera, setCurrentCamera] = useState({\n    // \"model\": \"myCam\",\n    // \"brand\": \"MyCanon\",\n    // \"key\": \"1\",\n    // \"image\": \"canon_c200.jpeg\",\n    // \"resolution\": \"4K\",\n    // \"price\": \"150\",\n    // \"description\": \"tHIS IS THE CAMERA YOU WANT, OKAY????\",\n    // \"lensCompatibility\": \"EF-Mount\",\n    // \"quantity\": \"2\",\n    // \"reserveDays\": \"\",\n    // \"_id\": \"2\"\n  });\n\n  const { loading, data } = useQuery(QUERY_CAMERAS);\n\n  const { cameras, cart } = state;\n\n  const {\n    image,\n    brand,\n    model,\n    resolution,\n    description,\n    lensCompatibility,\n    quantity,\n    _id,\n    price\n  } = item;\n\n  const addToCart = () => {\n    // find the cart item with the matching id\n    const itemInCart = cart.find((cartItem)=> cartItem._id === id);\n\n    //if there was a match, call UPDATE with a new purchase quantity\n    if(itemInCart){\n      dispatch({\n        type: UPDATE_CART_DAYS,\n        _id: id,\n        reserveDays: parseInt(itemInCart.reserveDays) + 1\n      });\n    }else{\n      dispatch({\n        type: ADD_TO_CART,\n        camera: { ...currentCamera, reserveDays: 1 }\n      });\n    }\n  };\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: currentCamera._id\n    });\n  };\n\n  useEffect(() => {\n    if (cameras.length) {\n      setCurrentCamera(cameras.find((camera) => camera._id === id));\n    }else if(data){\n      dispatch({\n        type: UPDATE_CAMERAS,\n        cameras: data.cameras\n      });\n    }\n  }, [cameras, data, loading, dispatch,  id]);\n\n  return (\n     <>\n       {currentCamera ? (\n        <div className=\"my-3\">\n         <h1 className=\"productTitle\">{currentCamera.brand + \" \" + currentCamera.model}</h1>\n           <Link to=\"/cameras\">← Back to Cameras</Link>\n             <div >\n                <section className=\"flex-row\">\n\n          {/* Image Column */}\n                  <div className=\"flex-column productImage mx-4 px-4\">\n                    <img src={`/images/${currentCamera.image}`}/>\n                  </div>\n\n          {/* Description Column */}\n                  <div className=\"flex-column productDescription mx-4 px-4\">\n\n          {/* title and price  */}\n                    <h2 className=\"productDescriptionHeading\">\n                      {currentCamera.brand + \" \" + currentCamera.model}</h2>\n                        <div>\n                        <h6>${currentCamera.price}/day</h6>\n                        </div>\n\n          {/* Specs List */}\n                    <section className=\"detailsText\">\n                      <h4>Specs</h4>\n                          <ul className=\"specs\">\n\n                            <li className=\"my-2\">\n                              <div className=\"listTitle\">Resolution: </div>\n                              <div className=\"listElement\">{currentCamera.resolution}</div>\n                            </li>\n\n                            <li className=\"my-2\">\n                              <div className=\"listTitle\">Lens Compatibility: </div>\n                              <div className=\"listElement\">{currentCamera.lensCompatibility}</div>\n                            </li>\n\n\n                          {/* <span className=\"truncate\"> */}\n                            <li className=\"my-2\">\n                              <div className=\"listTitle\">About: </div>\n                              <div className=\"listElement\">{currentCamera.description}</div>\n                            </li>\n                          {/* </span><a className=\"readMore\" href=\"#\">[Read more]</a> */}\n\n                            <li className=\"my-2\">\n                              <div className=\"listTitle\">In Stock: </div>\n                              <div className=\"listElement\">{currentCamera.quantity}</div>\n\n                            </li>\n                        </ul>\n                      </section>\n                  </div>\n\n        {/* Add to Cart component */}\n                  <div className=\"flex-column reservationAndCart mx-1 px-1\">\n                    <AddToCart currentCamera={currentCamera} />\n                  </div>\n\n               </section>\n            </div>\n          </div>\n      ) : null}\n     </>\n  )\n}\n\nexport default CameraItemDetail;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport CameraItemDetail from '../components/CameraItemDetail';\n\nimport { QUERY_CAMERAS } from '../utils/queries';\nimport spinner from '../assets/spinner.gif';\n\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_DAYS,\n  ADD_TO_CART,\n  UPDATE_CAMERAS\n} from \"../utils/actions\";\nimport Cart from '../components/Cart';\nimport { idbPromise } from \"../utils/helpers\";\n\nfunction Detail() {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentCamera, setCurrentCamera] = useState({\n});\n\n  const { loading, data } = useQuery(QUERY_CAMERAS);\n\n  const { cameras, cart } = state;\n\n  const addToCart = () => {\n    // find the cart item with the matching id\n    const itemInCart = cart.find((cartItem)=> cartItem._id === id);\n\n    //if there was a match, call UPDATE with a new purchase quantity\n    if(itemInCart){\n      dispatch({\n        type: UPDATE_CART_DAYS,\n        _id: id,\n        reserveDays: parseInt(itemInCart.reserveDays) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        reserveDays: parseInt(itemInCart.reserveDays) + 1\n      });\n    }else{\n      dispatch({\n        type: ADD_TO_CART,\n        camera: { ...currentCamera, reserveDays: 1 }\n      });\n      idbPromise('cart', 'put', { ...currentCamera, reserveDays: 1  });\n    }\n  };\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: currentCamera._id\n    });\n\n    idbPromise('cart', 'delete', { ...currentCamera});\n  };\n\n  useEffect(() => {\n    if (cameras.length) {\n      setCurrentCamera(cameras.find((camera) => camera._id === id));\n    }else if(data){\n      dispatch({\n        type: UPDATE_CAMERAS,\n        cameras: data.cameras\n      });\n      data.cameras.forEach((camera) =>{\n        idbPromise('cameras', 'put', camera);\n      });\n    }\n  }, [cameras, data, loading, dispatch,  id]);\n\n  return (\n    <>\n      {currentCamera ? (\n        <div className=\"container space-between\">\n          <CameraItemDetail\n            // _id={currentCamera._id}\n            // key={currentCamera.key}\n            // image={currentCamera.image}\n            // model={currentCamera.model}\n            // brand={currentCamera.brand}\n            // resolution={currentCamera.resolution}\n            // price={currentCamera.price}\n            // reserveDays={currentCamera.reserveDays}\n            />\n\n          {/* <p>\n            <button onClick={addToCart}>Add to Cart</button>\n            <button\n              disabled={!cart.find(p => p._id === currentCamera._id)}\n              onClick={removeFromCart}\n            >\n              Remove from Cart\n            </button>\n          </p> */}\n\n\n        </div>\n      ) : null}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </>\n  );\n}\n\nexport default Detail;","import React from \"react\";\n\nconst NoMatch = () => {\n  return (\n    <div>\n        <h1>404 Page Not Found</h1>\n        <h1>\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\n            🙄\n          </span>\n        </h1>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import { gql } from '@apollo/client';\n\nexport const LOGIN = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n\nexport const ADD_ORDER = gql`\n  mutation addOrder($cameras: [ID]!, $reservationDate: String!, $projectType: String!) {\n    addOrder(cameras: $cameras, reservationDate: $reservationDate, projectType: $projectType) {\n      purchaseDate\n      reservationDate\n      projectType\n      cameras {\n        _id\n        brand\n        model\n        price\n        quantity\n        image\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n    $phoneNumber: String\n    $mailList: Boolean\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n      phoneNumber: $phoneNumber\n      mailList: $mailList\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nfunction Login(){\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { email: formState.email, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/signup\">← Go to Signup</Link>\n\n      <h2>Login</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email address:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        {error ? (\n          <div>\n            <p className=\"error-text\">The provided credentials are incorrect</p>\n          </div>\n        ) : null}\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { ADD_USER } from '../utils/mutations';\n\nfunction Signup(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [addUser] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const mutationResponse = await addUser({\n      variables: {\n        email: formState.email,\n        password: formState.password,\n        firstName: formState.firstName,\n        lastName: formState.lastName,\n        phoneNumber:formState.phoneNumber\n      },\n    });\n    const token = mutationResponse.data.addUser.token;\n    Auth.login(token);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/login\">← Go to Login</Link>\n\n      <h2>Signup</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            placeholder=\"First\"\n            name=\"firstName\"\n            type=\"firstName\"\n            id=\"firstName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <input\n            placeholder=\"Last\"\n            name=\"lastName\"\n            type=\"lastName\"\n            id=\"lastName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"phoneNumber\">phoneNumber:</label>\n          <input\n            placeholder=\"000-000-0000\"\n            name=\"phoneNumber\"\n            type=\"phoneNumber\"\n            id=\"phoneNumber\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;\n","export default __webpack_public_path__ + \"static/media/logo.5266a845.png\";","import React from \"react\";\nimport Auth from \"../../utils/auth\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport logo from \"../../assets/logo.png\";\n\nfunction Nav() {\n\n  function showNavLinks() {\n    return (\n      <ul className=\"flex-row\">\n        <li className=\"mx-3\">\n          <NavLink exact to=\"/\" activeClassName=\"active\">\n            Home\n          </NavLink>\n        </li>\n        <li className=\"mx-3\">\n          <NavLink to=\"/cameras\" activeClassName=\"active\">\n            Cameras\n          </NavLink>\n        </li>\n        <li className=\"mx-3\">\n          <NavLink to=\"/about\" activeClassName=\"active\">\n            About\n          </NavLink>\n        </li>\n      </ul>\n    )\n  }\n\n  function showNavAuth() {\n    if (Auth.loggedIn()) {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-3\">\n            <NavLink to=\"/orderHistory\" activeClassName=\"active\">\n              Order History\n            </NavLink>\n          </li>\n          <li className=\"mx-3\">\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\n            <a href=\"/\" onClick={() => Auth.logout()}>\n              Logout\n            </a>\n          </li>\n        </ul>\n      );\n    } else {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-3\">\n            <Link to=\"/signup\">\n              Signup\n            </Link>\n          </li>\n          <li className=\"mx-3\">\n            <Link to=\"/login\">\n              Login\n            </Link>\n          </li>\n        </ul>\n      );\n    }\n  }\n\n  return (\n    <header>\n      <nav className=\"flex-row px-2\">\n\n        <NavLink to=\"/\">\n          <img className=\"logo mx-3\" src={logo} alt=\"logo\"></img>\n        </NavLink>\n        <div className=\"flex-row space-between\">\n            {showNavLinks()}\n          <div className=\"flex-row nav-auth-links\">\n            {showNavAuth()}\n          </div>\n        </div>\n\n      </nav>\n    </header>\n  );\n}\n\nexport default Nav;\n","import React from \"react\";\nimport { BsYoutube, BsInstagram } from \"react-icons/bs\";\n\nfunction Footer() {\n\n  return (\n    <footer className=\"px-4\">\n      <div className=\"flex-column container\">\n        {/* Top row info*/}\n        <div className=\"flex-row space-between footer-row footer-row-top\">\n          <div>\n            <h5>\n              Austin Movie Gear\n            </h5>\n            <p>\n              8711 Burnet Road F-73\n              Austin,Tx 78757\n            </p>\n            <p>\n              512.788.5462\n            </p>\n          </div>\n          <div>\n            <h6>\n              Hours\n            </h6>\n            <p>\n            Mon-Fri 10 AM to 4 PM, Sat-Sun 11 AM to 3 PM\n            </p>\n            <p>\n            Other times by appointment only\n            </p>\n          </div>\n          <div>\n            <form>\n              <label htmlFor=\"mailing-list\">\n                <h6>\n                Sign up for our mailing list\n                </h6>\n              </label>\n              <input type=\"text\" id=\"mailing-list\" name=\"mailing-list\" placeholder=\"Email address\"></input>\n              <input type=\"submit\" value=\"Sign up\"></input>\n            </form>\n          </div>\n        </div>\n\n        {/* Bottom row info*/}\n        <div className=\"flex-row footer-row space-between\">\n          <p>\n          Copyright © 2021 Austin Movie Gear\n          </p>\n          <div className=\"flex-row\">\n            <div className=\"social-link social-link-circle\">\n              <a href=\"https://www.instagram.com/austinmoviegear\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <BsInstagram size={18}/>\n              </a>\n            </div>\n            <div className=\"social-link social-link-circle\">\n              <a href=\"https://www.youtube.com/channel/UC-Z0emm3kROvxj7byrIvDCw\" target=\"_blank\" rel=\"noreferrer noopener\">\n                <BsYoutube size={20}/>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useQuery } from '@apollo/client';\nimport { QUERY_USER } from '../utils/queries';\n\nfunction OrderHistory() {\n  const { data } = useQuery(QUERY_USER);\n  let user;\n\n  if (data) {\n    user = data.user;\n  }\n\n  return (\n    <>\n      <div className=\"container my-1\">\n        <Link to=\"/\">← Back to Cameras</Link>\n\n        {user ? (\n          <>\n            <h2>\n              Order History for {user.firstName} {user.lastName}\n            </h2>\n            {user.orders.map((order) => (\n              <div key={order._id} className=\"my-2\">\n                <h3>\n                  Date: {new Date(parseInt(order.purchaseDate)).toLocaleDateString()}\n                </h3>\n                <h4>\n                  Date of Pick Up/drop off:\n                  <br/>\n                  {order.reservationDate}\n                </h4>\n                <h4>\n                  project Type: {order.projectType}\n                </h4>\n                <div className=\"flex-row\">\n                  {order.cameras.map(({ _id, image, brand, model, price }, index) => (\n                    <div key={index} className=\"card px-1 py-1\">\n                      <Link to={`/cameras/${_id}`}>\n                        <img alt={model} src={`/images/${image}`} />\n                        <p>{brand+ \" \" + model}</p>\n                      </Link>\n                      <div>\n                        <span>${price} per day</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nexport default OrderHistory;\n","import React, { useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { ADD_ORDER } from '../utils/mutations';\nimport { idbPromise } from '../utils/helpers';\n\nfunction Success() {\n  const [addOrder] = useMutation(ADD_ORDER);\n\n  useEffect(() => {\n    async function saveOrder() {\n      const cart = await idbPromise('cart', 'get')\n      const cameras = cart.map(item => item._id);\n      let reservationDate = await idbPromise('reservationDate', 'get')\n      let projectType = await idbPromise('projectType', 'get');\n\n      console.log(reservationDate[0])\n\n      if (cameras.length) {\n        const { data } = \n        await addOrder(\n          { variables: {\n              cameras,\n              reservationDate: reservationDate.splice(-1).toString(),\n              projectType: projectType.splice(-1).toString() \n            }\n          });\n        const cameraData = data.addOrder.cameras;\n\n        cameraData.forEach((item) => {\n          idbPromise('cart', 'delete', item);\n        });\n      }\n\n      idbPromise( 'reservationDate','deleteData');\n      idbPromise( 'projectType','deleteData');\n\n      // setTimeout(()=>{\n      //   window.location.assign('/');\n      // }, 3000);\n    }\n    saveOrder();\n  }, [addOrder]);\n  return (\n    <div>\n        <h1>Success!</h1>\n        <h2>\n          Thank you for your purchase!\n        </h2>\n        <h2>\n          You will now be redirected to the homepage\n        </h2>\n    </div>\n  );\n};\n\nexport default Success;","import React from 'react';\nimport { Row, Container } from 'react-bootstrap';\nimport '../styles.css';\nimport CameraList from '../components/CameraList';\nimport { useStoreContext } from \"../utils/GlobalState\";\n\nfunction Cameras(){\n\n  const { model, brand, key, image, resolution, price, reserveDays, _id } =\n    {\n    // \"model\": \"myCam\",\n    // \"brand\": \"MyCanon\",\n    // \"key\": \"1\",\n    // \"image\": \"canon_c200.jpeg\",\n    // \"resolution\": \"4K\",\n    // \"price\": \"95\",\n    // \"reserveDays\": \"\",\n    // \"_id\": \"2\"\n  }\n\n\n  const [state, dispatch] = useStoreContext();\n\n\n  return (\n    <div className=\"container my-1\">\n       <h1>Cameras</h1>\n       <Container>\n         <Row>\n          <CameraList />\n\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Cameras;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Detail from './pages/Detail';\nimport NoMatch from './pages/NoMatch';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Nav from './components/Nav';\nimport Cart from \"./components/Cart\";\nimport Footer from './components/Footer';\nimport { StoreProvider } from \"./utils/GlobalState\";\nimport OrderHistory from './pages/OrderHistory';\nimport Success from './pages/Success';\nimport Cameras from './pages/Cameras';\n\nconst httpLink = createHttpLink({\n  uri: 'http://localhost:3001/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div>\n          <StoreProvider>\n            <Nav />\n            <Cart />\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route exact path=\"/about\" component={About} />\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/Cameras\" component={Cameras} />\n              <Route exact path=\"/signup\" component={Signup} />\n              <Route exact path=\"/orderHistory\" component={OrderHistory} />\n              <Route exact path=\"/Cameras/:id\" component={Detail} />\n              <Route exact path=\"/success\" component={Success} />\n              <Route component={NoMatch} />\n            </Switch>\n            <Footer />\n          </StoreProvider>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './styles.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
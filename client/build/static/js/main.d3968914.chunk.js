(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{224:function(e,t,c){},267:function(e,t){},422:function(e,t,c){},424:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(40),s=c.n(r),i=c(9),l=c(18),o=c(21),j=(c(102),c(236)),d=c(429),b=c(446),m=c(444),h=c(235),u=c(12),O=c(227),x=c(1);var p,v,f,g=function(e){var t=e.image,c=e.brand,a=e.model,n=e.resolution,r=e.description,s=e._id,i=e.price;return Object(x.jsx)("div",{className:"flex-row space-between",children:Object(x.jsx)("section",{className:"flex-column productCard",id:s,children:Object(x.jsxs)("div",{className:"card border-box",style:{width:"18rem"},children:[Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("img",{alt:a,className:" my-2",justifyContent:"center",style:{width:"14rem"},variant:"top",src:"/images/".concat(t)})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{className:"my-2",children:c+" "+a}),Object(x.jsxs)("div",{className:"my-2 mx-4",children:[Object(x.jsx)("p",{children:n}),r]}),Object(x.jsx)("button",{className:"my-2",children:Object(x.jsx)(l.b,{to:"/cameras/".concat(s),children:"See Product Details"})}),Object(x.jsxs)("footer",{className:"cardFooter",id:"price",children:[Object(x.jsx)("div",{className:"cardFooter hardText",children:"Rentals beginning at"}),Object(x.jsxs)("div",{className:"rentalPrice",children:["$",i,"/day"]})]})]})]})})})},y=c(61),N=c(445),w=Object(N.a)(p||(p=Object(y.a)(["\n{\n    cameras{\n      _id\n      model\n      brand\n      resolution\n      lensCompatibility\n      image\n      reserveDays\n      price\n      quantity\n    }\n  }\n"]))),k=Object(N.a)(v||(v=Object(y.a)(["\n  query getCheckout($cameras: [ID]!) {\n    checkout(cameras: $cameras) {\n      session\n    }\n  }\n"]))),D=Object(N.a)(f||(f=Object(y.a)(["\n  {\n    user {\n      firstName\n      lastName\n      email\n      phoneNumber\n      mailList\n      orders {\n        _id\n        purchaseDate\n        reservationDate\n        projectType\n        cameras {\n          _id\n          brand\n          model\n          reserveDays\n          price\n          image\n        }\n      }\n    }\n  }\n"]))),C=c.p+"static/media/spinner.689d9a07.gif",T=c(85),_=c(43),S="UPDATE_CAMERAS",F="ADD_TO_CART",A="ADD_MULTIPLE_TO_CART",E="REMOVE_FROM_CART",I="UPDATE_CART_DAYS",$="TOGGLE_CART",M=function(e,t){switch(t.type){case S:return Object(i.a)(Object(i.a)({},e),{},{cameras:Object(_.a)(t.cameras)});case F:return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(_.a)(e.cart),[t.camera])});case A:return Object(i.a)(Object(i.a)({},e),{},{cart:[].concat(Object(_.a)(e.cart),Object(_.a)(t.cameras))});case E:var c=e.cart.filter((function(e){return e._id!==t._id}));return Object(i.a)(Object(i.a)({},e),{},{cartOpen:c.length>0,cart:c});case I:return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.reserveDays=t.reserveDays),e}))});case"CLEAR_CART":return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!1,cart:[]});case $:return Object(i.a)(Object(i.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}};var P=["value"],R=Object(a.createContext)(),L=R.Provider,q=function(e){e.value;var t,c=Object(T.a)(e,P),n=(t={cameras:[],currentCamera:"",cart:[],cartOpen:!1},Object(a.useReducer)(M,t)),r=Object(u.a)(n,2),s=r[0],l=r[1];return console.log(s),Object(x.jsx)(L,Object(i.a)({value:[s,l]},c))},B=function(){return Object(a.useContext)(R)};function G(e,t,c){return new Promise((function(a,n){var r,s,i,l=window.indexedDB.open("ATX-Movie-Gear",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("cameras",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"}),t.createObjectStore("reservationDate",{autoIncrement:!0}),t.createObjectStore("projectType",{autoIncrement:!0})},l.onerror=function(e){console.log("There was an error")},l.onsuccess=function(n){switch(r=l.result,s=r.transaction(e,"readwrite"),i=s.objectStore(e),r.onerror=function(e){console.log("error",e)},t){case"put":i.put(c),a(c);break;case"get":var o=i.getAll();o.onsuccess=function(){a(o.result)};break;case"delete":i.delete(c._id);break;case"deleteData":i.clear();break;default:console.log("No valid method")}s.oncomplete=function(){r.close()}}}))}var U=function(){var e=B(),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(O.a)(w),s=r.loading,i=r.data;return Object(a.useEffect)((function(){i?(n({type:S,cameras:i.cameras}),i.cameras.forEach((function(e){G("cameras","put",e)}))):s||G("cameras","get").then((function(e){n({type:S,cameras:e})}))}),[i,s,n]),Object(x.jsxs)("div",{className:"my-2",children:[c.cameras.length?Object(x.jsx)("div",{className:"flex-row",children:c.cameras.map((function(e){return Object(x.jsx)(g,{_id:e._id,image:e.image,brand:e.brand,model:e.model,resolution:e.resolution,price:e.price,reserveDays:e.reserveDays},e._id)}))}):Object(x.jsx)("h3",{children:"You haven't added any cameras yet!"}),s?Object(x.jsx)("img",{src:C,alt:"loading"}):null]})},H=c(68);var W=function(){return Object(x.jsx)("div",{className:"hero-image",children:Object(x.jsxs)("div",{className:"container hero-text",children:[Object(x.jsx)("h2",{children:"New camera arrivals"}),Object(x.jsx)("p",{children:"Get the cinema look with great cinema cameras \u2014 at affordable prices!"}),Object(x.jsxs)(l.b,{to:"/cameras",children:["Learn more",Object(x.jsx)("span",{role:"img","aria-label":"arrow",children:Object(x.jsx)(H.a,{})})]})]})})};var Y=function(){return Object(x.jsxs)("div",{className:"reservation",children:[Object(x.jsxs)("div",{className:"text-block",children:[Object(x.jsx)("h2",{children:"Make a reservation"}),Object(x.jsx)("p",{children:"Here's how it works"})]}),Object(x.jsxs)("div",{className:"flex-row container",children:[Object(x.jsxs)("div",{className:"reservation-block",children:[Object(x.jsx)("p",{className:"reservation-step",children:"1"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Browse through our shop and add your selections to your cart!"}),Object(x.jsx)("p",{children:"We carry most major brands and supportive equipment, so whatever it is you\u2019re looking for, we probably have it!"})]})]}),Object(x.jsxs)("div",{className:"reservation-block",children:[Object(x.jsx)("p",{className:"reservation-step",children:"2"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Check the availability of your selections"}),Object(x.jsx)("p",{children:"If the product you want isn\u2019t in stock or available when you need it, add your name to the item\u2019s waiting list, and we\u2019ll let you know when it\u2019s back!"})]})]}),Object(x.jsxs)("div",{className:"reservation-block",children:[Object(x.jsx)("p",{className:"reservation-step",children:"3"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Read, fill out, and sign our rental agreement forms"}),Object(x.jsx)("p",{children:"Yeah, yeah, we know, reading Legalese can be a total downer. But once you\u2019ve filled it in and promised us your firstborn* if you renege on any of the stipulations, you\u2019re home free!"}),Object(x.jsx)("p",{className:"footnote",children:"*No actual babies are harmed"})]})]}),Object(x.jsxs)("div",{className:"reservation-block",children:[Object(x.jsx)("p",{className:"reservation-step",children:"4"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Submit your reservation request and payment information"}),Object(x.jsx)("p",{children:"You won\u2019t be charged until we\u2019ve confirmed the availability of the equipment you\u2019ve requested. Watch out for an email from us!"})]})]})]})]})},z=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W,{}),Object(x.jsxs)("div",{className:"text-block",children:[Object(x.jsx)("h2",{children:"Who we are"}),Object(x.jsx)("p",{children:"Austin Movie Gear is a locally owned and operated rental house supporting the filmmakers of Austin, TX. We offer the best prices in town plus honest service."})]}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(U,{})}),Object(x.jsx)(Y,{})]})},J=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"hero-image-small"}),Object(x.jsxs)("div",{className:"text-block text-block-left",children:[Object(x.jsx)("h2",{children:"About Austin Movie Gear"}),Object(x.jsx)("p",{children:"Austin Movie Gear, started in 2013, is a locally owned and operated business dedicated to providing low prices and great service to Austin filmmakers. We think you should be able to try out gear before you rent it, so we offer free demos of our gear."}),Object(x.jsx)("p",{children:"Through our low prices and multi-day discounts \u2014 a weekend is one day \u2014 we make great equipment available for almost any budget production. We serve a dynamic community of talented filmmakers."}),Object(x.jsx)("h6",{children:"Hours"}),Object(x.jsx)("p",{children:"Mon-Fri 10 AM to 4 PM, Sat-Sun 11 AM to 3 PM Other times by appointment only"}),Object(x.jsx)("h6",{children:"Discounts"}),Object(x.jsx)("p",{children:"Weekends (Friday Afternoon Pickup - Monday AM Return) are 1x the daily rate!"}),Object(x.jsxs)("p",{children:["2 Days are 1.75x the daily rate",Object(x.jsx)("br",{}),"3 days are 2x the daily rate",Object(x.jsx)("br",{}),"5 days are 2.5x the daily rate",Object(x.jsx)("br",{}),"7 Days are 3x the daily rate",Object(x.jsx)("br",{}),"30 Days are 8.75x the daily rate"]}),Object(x.jsxs)("p",{children:["10% discount for non-profit organizations",Object(x.jsx)("br",{}),"10% discount for Austin School of Film",Object(x.jsx)("br",{}),"10% discount for teachers",Object(x.jsx)("br",{}),"15% discount for students, for student productions only"]}),Object(x.jsx)("h6",{children:"Order Extensions"}),Object(x.jsx)("p",{children:"If, during a rental, you need to extend your order beyond your order's original rental dates, we will accommodate you if the equipment is available."}),Object(x.jsxs)("p",{children:["1st extension day is the full day rate",Object(x.jsx)("br",{}),"Each additional day is 50% the day rate"]})]})]})},Q=c(41),V=c.n(Q),X=c(60),Z=function(e){var t=e.item,c=B(),a=Object(u.a)(c,2)[1];return Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("img",{src:"/images/".concat(t.image),alt:""}),Object(x.jsx)("div",{className:"py-1",children:Object(x.jsx)("p",{className:"cart-remove",onClick:function(){return function(e){a({type:E,_id:e._id}),G("cart","delete",Object(i.a)({},e))}(t)},children:"Remove"})})]}),Object(x.jsxs)("div",{className:"flex-column",style:{flexGrow:"1"},children:[Object(x.jsxs)("h4",{children:[t.brand," ",t.model]}),Object(x.jsxs)("div",{className:"cart-price",children:[Object(x.jsxs)("h5",{children:["$",t.price]}),Object(x.jsx)("p",{children:" / day"})]}),Object(x.jsxs)("div",{className:"flex-row",style:{alignItems:"center"},children:[Object(x.jsx)("p",{children:"Quantity "}),Object(x.jsx)("input",{type:"number",placeholder:"1",value:t.reserveDays,onChange:function(e){var c=e.target.value;"0"===c?(a({type:E,_id:t._id}),G("cart","delete",Object(i.a)({},t))):(a({type:I,_id:t._id,reserveDays:parseInt(c)}),G("cart","put",Object(i.a)(Object(i.a)({},t),{},{reserveDays:parseInt(c)})))},style:{marginLeft:"8px",width:"100%"}})]})]})]})},K=c(34),ee=c(35),te=c(147),ce=new(function(){function e(){Object(K.a)(this,e)}return Object(ee.a)(e,[{key:"getProfile",value:function(){return Object(te.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(te.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),ae=(c(253),c(228));c(379);var ne=function(e){var t=B(),c=Object(u.a)(t,1)[0],n=Object(a.useState)(),r=Object(u.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)(),o=Object(u.a)(l,2),j=o[0],d=o[1],b=Object(a.useState)(),m=Object(u.a)(b,2),h=m[0],O=m[1];return Object(x.jsx)("div",{className:"cart-container",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"flex-row space-between",style:{marginBottom:"24px"},children:[Object(x.jsx)("h2",{children:"Shopping Cart"}),Object(x.jsx)("div",{className:"close",onClick:e.toggleCart,children:Object(x.jsx)(H.c,{})})]}),c.cart.length?Object(x.jsxs)("div",{children:[c.cart.map((function(e){return Object(x.jsx)(Z,{item:e},e._id)})),Object(x.jsx)("div",{className:"flex-row",style:{marginTop:"16px"},children:Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("h6",{children:"Pickup & dropoff dates"}),Object(x.jsx)(ae.DateRangePicker,{startDate:s,startDateId:"start-date",endDate:j,endDateId:"end-date",onDatesChange:function(e){var t=e.startDate,c=e.endDate;i(t),d(c),G("reservationDate","put","PickUp: ".concat(new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t))+" DropOff: ".concat(new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(c)))},focusedInput:h,onFocusChange:function(e){return O(e)},startDatePlaceholderText:"Pickup date",endDatePlaceholderText:"Dropoff date",numberOfMonths:1})]})}),Object(x.jsxs)("div",{className:"flex-column",style:{marginTop:"24px"},children:[Object(x.jsx)("label",{htmlFor:"project",children:Object(x.jsx)("h6",{children:"Project type"})}),Object(x.jsxs)("select",{required:!0,name:"project",id:"project",onChange:function(e){return G("projectType","put",e.target.value)},children:[Object(x.jsx)("option",{value:"",selected:!0,disabled:!0,hidden:!0,children:"Choose a project"}),Object(x.jsx)("option",{value:"documentary",children:"Documentary"}),Object(x.jsx)("option",{value:"narrative-film",children:"Narrative film"}),Object(x.jsx)("option",{value:"student-film",children:"Student film"}),Object(x.jsx)("option",{value:"music-video",children:"Music video"}),Object(x.jsx)("option",{value:"wedding",children:"Wedding"}),Object(x.jsx)("option",{value:"non-profit",children:"Non-profit"}),Object(x.jsx)("option",{value:"broadcast",children:"Broadcast"}),Object(x.jsx)("option",{value:"online-for-profit",children:"Online for profit"}),Object(x.jsx)("option",{value:"internal",children:"Internal"}),Object(x.jsx)("option",{value:"video-game",children:"Video game"}),Object(x.jsx)("option",{value:"social-media-only",children:"Social media only"})]})]}),Object(x.jsxs)("div",{className:"flex-column space-between",style:{marginTop:"40px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between",style:{marginBottom:"24px"},children:[Object(x.jsx)("h5",{children:"Total"}),Object(x.jsxs)("h3",{children:[" $",e.calculateTotal]})]}),ce.loggedIn()?Object(x.jsx)("button",{onClick:e.submitCheckout,children:"Confirm reservation"}):Object(x.jsx)("span",{children:"(log in to check out)"})]})]}):Object(x.jsx)("h6",{children:"You haven't added anything to your cart yet!"})]})})};var re=function(e){return Object(x.jsx)("div",{className:"cart-backdrop",onClick:e.toggleCart})},se=c(436),ie=c(229),le=c(230),oe=Object(ie.a)("pk_test_TYooMQauvdEDq54NiTphI7jx"),je=function(){var e=B(),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(se.a)(k),s=Object(u.a)(r,2),i=s[0],l=s[1].data;function o(){n({type:$})}function j(){var e=[];i({variables:{cameras:e}}),c.cart.forEach((function(t){for(var c=0;c<t.reserveDays;c++)e.push(t._id)}))}Object(a.useEffect)((function(){function e(){return(e=Object(X.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("cart","get");case 2:t=e.sent,n({type:A,cameras:Object(_.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.cart.length||function(){e.apply(this,arguments)}()}),[c.cart.length,n]),Object(a.useEffect)((function(){l&&oe.then((function(e){e.redirectToCheckout({sessionId:l.checkout.session})}))}),[l]);var d="cart",b=function(){var e=0;return c.cart.forEach((function(t){e+=t.price*t.reserveDays})),e.toFixed(2)}();return c.cartOpen?(d="cart open",Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:d,children:Object(x.jsx)(ne,{toggleCart:o,calculateTotal:b,submitCheckout:j})}),Object(x.jsx)(re,{toggleCart:o})]})):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:d,children:Object(x.jsx)(ne,{toggleCart:o,calculateTotal:b,submitCheckout:j})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"cart-item-num",children:function(){var e=0;return c.cart.forEach((function(t){e+=t.reserveDays})),Object(x.jsx)("p",{children:e})}()}),Object(x.jsx)("div",{className:"cart-closed mx-3",onClick:o,children:Object(x.jsx)("span",{role:"img","aria-label":"shopping cart",children:Object(x.jsx)(le.a,{size:30})})})]})]})};c(231),c(380);var de=function(e){var t=e.currentCamera,c=Object(o.f)().id,a=Object(O.a)(w).loading,n=B(),r=Object(u.a)(n,2),s=r[0],l=r[1],j=s.cart;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("button",{className:"my-2",onClick:function(){var e=j.find((function(e){return e._id===c}));l(e?{type:I,_id:c,reserveDays:parseInt(e.reserveDays)+1}:{type:F,camera:Object(i.a)(Object(i.a)({},t),{},{reserveDays:1})})},children:"Make a Reservation"}),Object(x.jsx)("button",{className:"my-2",disabled:!j.find((function(e){return e._id===t._id})),onClick:function(){l({type:E,_id:t._id})},children:"Remove from Cart"})]}),a?Object(x.jsx)("img",{src:C,alt:"loading"}):null,Object(x.jsx)(je,{})]})};var be=function(e){var t=B(),c=Object(u.a)(t,2),n=c[0],r=c[1],s=Object(o.f)().id,i=Object(a.useState)({}),j=Object(u.a)(i,2),d=j[0],b=j[1],m=Object(O.a)(w),h=m.loading,p=m.data,v=n.cameras;return n.cart,e.image,e.brand,e.model,e.resolution,e.description,e.lensCompatibility,e.quantity,e._id,e.price,Object(a.useEffect)((function(){v.length?b(v.find((function(e){return e._id===s}))):p&&r({type:S,cameras:p.cameras})}),[v,p,h,r,s]),Object(x.jsx)(x.Fragment,{children:d?Object(x.jsxs)("div",{className:"my-3",children:[Object(x.jsx)("h1",{className:"productTitle",children:d.brand+" "+d.model}),Object(x.jsx)(l.b,{to:"/cameras",children:"\u2190 Back to Cameras"}),Object(x.jsx)("div",{children:Object(x.jsxs)("section",{className:"flex-row",children:[Object(x.jsx)("div",{className:"flex-column productImage mx-4 px-4",children:Object(x.jsx)("img",{src:"/images/".concat(d.image)})}),Object(x.jsxs)("div",{className:"flex-column productDescription mx-4 px-4",children:[Object(x.jsx)("h2",{className:"productDescriptionHeading",children:d.brand+" "+d.model}),Object(x.jsx)("div",{children:Object(x.jsxs)("h6",{children:["$",d.price,"/day"]})}),Object(x.jsxs)("section",{className:"detailsText",children:[Object(x.jsx)("h4",{children:"Specs"}),Object(x.jsxs)("ul",{className:"specs",children:[Object(x.jsxs)("li",{className:"my-2",children:[Object(x.jsx)("div",{className:"listTitle",children:"Resolution: "}),Object(x.jsx)("div",{className:"listElement",children:d.resolution})]}),Object(x.jsxs)("li",{className:"my-2",children:[Object(x.jsx)("div",{className:"listTitle",children:"Lens Compatibility: "}),Object(x.jsx)("div",{className:"listElement",children:d.lensCompatibility})]}),Object(x.jsxs)("li",{className:"my-2",children:[Object(x.jsx)("div",{className:"listTitle",children:"About: "}),Object(x.jsx)("div",{className:"listElement",children:d.description})]}),Object(x.jsxs)("li",{className:"my-2",children:[Object(x.jsx)("div",{className:"listTitle",children:"In Stock: "}),Object(x.jsx)("div",{className:"listElement",children:d.quantity})]})]})]})]}),Object(x.jsx)("div",{className:"flex-column reservationAndCart mx-1 px-1",children:Object(x.jsx)(de,{currentCamera:d})})]})})]}):null})};var me,he,ue,Oe=function(){var e=B(),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(o.f)().id,s=Object(a.useState)({}),i=Object(u.a)(s,2),l=i[0],j=i[1],d=Object(O.a)(w),b=d.loading,m=d.data,h=c.cameras;return c.cart,Object(a.useEffect)((function(){h.length?j(h.find((function(e){return e._id===r}))):m&&(n({type:S,cameras:m.cameras}),m.cameras.forEach((function(e){G("cameras","put",e)})))}),[h,m,b,n,r]),Object(x.jsxs)(x.Fragment,{children:[l?Object(x.jsx)("div",{className:"container space-between",children:Object(x.jsx)(be,{})}):null,b?Object(x.jsx)("img",{src:C,alt:"loading"}):null]})},xe=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"404 Page Not Found"}),Object(x.jsx)("h1",{children:Object(x.jsx)("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji",children:"\ud83d\ude44"})})]})},pe=c(80),ve=c(437),fe=Object(N.a)(me||(me=Object(y.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),ge=Object(N.a)(he||(he=Object(y.a)(["\n  mutation addOrder($cameras: [ID]!, $reservationDate: String!, $projectType: String!) {\n    addOrder(cameras: $cameras, reservationDate: $reservationDate, projectType: $projectType) {\n      purchaseDate\n      reservationDate\n      projectType\n      cameras {\n        _id\n        brand\n        model\n        price\n        quantity\n        image\n      }\n    }\n  }\n"]))),ye=Object(N.a)(ue||(ue=Object(y.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n    $phoneNumber: String\n    $mailList: Boolean\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n      phoneNumber: $phoneNumber\n      mailList: $mailList\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));var Ne=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(u.a)(e,2),c=t[0],n=t[1],r=Object(ve.a)(fe),s=Object(u.a)(r,2),o=s[0],j=s[1].error,d=function(){var e=Object(X.a)(V.a.mark((function e(t){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,ce.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,a=t.name,r=t.value;n(Object(i.a)(Object(i.a)({},c),{},Object(pe.a)({},a,r)))};return Object(x.jsxs)("div",{className:"container my-1",children:[Object(x.jsx)(l.b,{to:"/signup",children:"\u2190 Go to Signup"}),Object(x.jsx)("h2",{children:"Login"}),Object(x.jsxs)("form",{onSubmit:d,children:[Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(x.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:b})]}),Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(x.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:b})]}),j?Object(x.jsx)("div",{children:Object(x.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(x.jsx)("div",{className:"flex-row flex-end",children:Object(x.jsx)("button",{type:"submit",children:"Submit"})})]})]})};var we=function(e){var t=Object(a.useState)({email:"",password:""}),c=Object(u.a)(t,2),n=c[0],r=c[1],s=Object(ve.a)(ye),o=Object(u.a)(s,1)[0],j=function(){var e=Object(X.a)(V.a.mark((function e(t){var c,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o({variables:{email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName,phoneNumber:n.phoneNumber}});case 3:c=e.sent,a=c.data.addUser.token,ce.login(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,c=t.name,a=t.value;r(Object(i.a)(Object(i.a)({},n),{},Object(pe.a)({},c,a)))};return Object(x.jsxs)("div",{className:"container my-1",children:[Object(x.jsx)(l.b,{to:"/login",children:"\u2190 Go to Login"}),Object(x.jsx)("h2",{children:"Signup"}),Object(x.jsxs)("form",{onSubmit:j,children:[Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(x.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:d})]}),Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(x.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:d})]}),Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(x.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})]}),Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(x.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})]}),Object(x.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(x.jsx)("label",{htmlFor:"phoneNumber",children:"phoneNumber:"}),Object(x.jsx)("input",{placeholder:"000-000-0000",name:"phoneNumber",type:"phoneNumber",id:"phoneNumber",onChange:d})]}),Object(x.jsx)("div",{className:"flex-row flex-end",children:Object(x.jsx)("button",{type:"submit",children:"Submit"})})]})]})},ke=c.p+"static/media/logo.5266a845.png";var De=function(){return Object(x.jsx)("header",{children:Object(x.jsxs)("nav",{className:"flex-row px-2",children:[Object(x.jsx)(l.c,{to:"/",children:Object(x.jsx)("img",{className:"logo mx-3",src:ke,alt:"logo"})}),Object(x.jsxs)("div",{className:"flex-row space-between",children:[Object(x.jsxs)("ul",{className:"flex-row",children:[Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)(l.c,{exact:!0,to:"/",activeClassName:"active",children:"Home"})}),Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)(l.c,{to:"/cameras",activeClassName:"active",children:"Cameras"})}),Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)(l.c,{to:"/about",activeClassName:"active",children:"About"})})]}),Object(x.jsx)("div",{className:"flex-row nav-auth-links",children:ce.loggedIn()?Object(x.jsxs)("ul",{className:"flex-row",children:[Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)(l.c,{to:"/orderHistory",activeClassName:"active",children:"Order History"})}),Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)("a",{href:"/",onClick:function(){return ce.logout()},children:"Logout"})})]}):Object(x.jsxs)("ul",{className:"flex-row",children:[Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)(l.b,{to:"/signup",children:"Signup"})}),Object(x.jsx)("li",{className:"mx-3",children:Object(x.jsx)(l.b,{to:"/login",children:"Login"})})]})})]})]})})};var Ce=function(){return Object(x.jsx)("footer",{className:"px-4",children:Object(x.jsxs)("div",{className:"flex-column container",children:[Object(x.jsxs)("div",{className:"flex-row space-between footer-row footer-row-top",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h5",{children:"Austin Movie Gear"}),Object(x.jsx)("p",{children:"8711 Burnet Road F-73 Austin,Tx 78757"}),Object(x.jsx)("p",{children:"512.788.5462"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Hours"}),Object(x.jsx)("p",{children:"Mon-Fri 10 AM to 4 PM, Sat-Sun 11 AM to 3 PM"}),Object(x.jsx)("p",{children:"Other times by appointment only"})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("form",{children:[Object(x.jsx)("label",{htmlFor:"mailing-list",children:Object(x.jsx)("h6",{children:"Sign up for our mailing list"})}),Object(x.jsx)("input",{type:"text",id:"mailing-list",name:"mailing-list",placeholder:"Email address"}),Object(x.jsx)("input",{type:"submit",value:"Sign up"})]})})]}),Object(x.jsxs)("div",{className:"flex-row footer-row space-between",children:[Object(x.jsx)("p",{children:"Copyright \xa9 2021 Austin Movie Gear"}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("div",{className:"social-link social-link-circle",children:Object(x.jsx)("a",{href:"https://www.instagram.com/austinmoviegear",target:"_blank",rel:"noreferrer noopener",children:Object(x.jsx)(H.b,{size:18})})}),Object(x.jsx)("div",{className:"social-link social-link-circle",children:Object(x.jsx)("a",{href:"https://www.youtube.com/channel/UC-Z0emm3kROvxj7byrIvDCw",target:"_blank",rel:"noreferrer noopener",children:Object(x.jsx)(H.d,{size:20})})})]})]})]})})};var Te=function(){var e,t=Object(O.a)(D).data;return t&&(e=t.user),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"container my-1",children:[Object(x.jsx)(l.b,{to:"/",children:"\u2190 Back to Cameras"}),e?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("h2",{children:["Order History for ",e.firstName," ",e.lastName]}),e.orders.map((function(e){return Object(x.jsxs)("div",{className:"my-2",children:[Object(x.jsxs)("h3",{children:["Date: ",new Date(parseInt(e.purchaseDate)).toLocaleDateString()]}),Object(x.jsxs)("h4",{children:["Date of Pick Up/drop off:",Object(x.jsx)("br",{}),e.reservationDate]}),Object(x.jsxs)("h4",{children:["project Type: ",e.projectType]}),Object(x.jsx)("div",{className:"flex-row",children:e.cameras.map((function(e,t){var c=e._id,a=e.image,n=e.brand,r=e.model,s=e.price;return Object(x.jsxs)("div",{className:"card px-1 py-1",children:[Object(x.jsxs)(l.b,{to:"/cameras/".concat(c),children:[Object(x.jsx)("img",{alt:r,src:"/images/".concat(a)}),Object(x.jsx)("p",{children:n+" "+r})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("span",{children:["$",s," per day"]})})]},t)}))})]},e._id)}))]}):null]})})};var _e=function(){var e=Object(ve.a)(ge),t=Object(u.a)(e,1)[0];return Object(a.useEffect)((function(){function e(){return(e=Object(X.a)(V.a.mark((function e(){var c,a,n,r,s,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("cart","get");case 2:return c=e.sent,a=c.map((function(e){return e._id})),e.next=6,G("reservationDate","get");case 6:return n=e.sent,e.next=9,G("projectType","get");case 9:if(r=e.sent,console.log(n[0]),!a.length){e.next=18;break}return e.next=14,t({variables:{cameras:a,reservationDate:n.splice(-1).toString(),projectType:r.splice(-1).toString()}});case 14:s=e.sent,i=s.data,i.addOrder.cameras.forEach((function(e){G("cart","delete",e)}));case 18:G("reservationDate","deleteData"),G("projectType","deleteData");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Success!"}),Object(x.jsx)("h2",{children:"Thank you for your purchase!"}),Object(x.jsx)("h2",{children:"You will now be redirected to the homepage"})]})},Se=c(442),Fe=c(443);c(224);var Ae=function(){var e=B(),t=Object(u.a)(e,2);return t[0],t[1],Object(x.jsxs)("div",{className:"container my-1",children:[Object(x.jsx)("h1",{children:"Cameras"}),Object(x.jsx)(Se.a,{children:Object(x.jsx)(Fe.a,{children:Object(x.jsx)(U,{})})})]})},Ee=Object(j.a)({uri:"http://localhost:3001/graphql"}),Ie=Object(h.a)((function(e,t){var c=t.headers,a=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},c),{},{authorization:a?"Bearer ".concat(a):""})}})),$e=new d.a({link:Ie.concat(Ee),cache:new b.a});var Me=function(){return Object(x.jsx)(m.a,{client:$e,children:Object(x.jsx)(l.a,{children:Object(x.jsx)("div",{children:Object(x.jsxs)(q,{children:[Object(x.jsx)(De,{}),Object(x.jsx)(je,{}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:z}),Object(x.jsx)(o.a,{exact:!0,path:"/about",component:J}),Object(x.jsx)(o.a,{exact:!0,path:"/login",component:Ne}),Object(x.jsx)(o.a,{exact:!0,path:"/Cameras",component:Ae}),Object(x.jsx)(o.a,{exact:!0,path:"/signup",component:we}),Object(x.jsx)(o.a,{exact:!0,path:"/orderHistory",component:Te}),Object(x.jsx)(o.a,{exact:!0,path:"/Cameras/:id",component:Oe}),Object(x.jsx)(o.a,{exact:!0,path:"/success",component:_e}),Object(x.jsx)(o.a,{component:xe})]}),Object(x.jsx)(Ce,{})]})})})})},Pe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,448)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};c(422);s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(Me,{})}),document.getElementById("root")),Pe()}},[[424,1,2]]]);
//# sourceMappingURL=main.d3968914.chunk.js.map